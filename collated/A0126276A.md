# A0126276A
###### storage\Storage.java
``` java

package storage;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.FileNameMap;
import java.net.URLConnection;
import java.nio.file.FileSystemException;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;

import logic.DeadlineTask;
import logic.Event;
import logic.Task;
import parser.ParsedCommand;

import com.google.gson.Gson;

public class Storage {

	private static final String DEFAULT_AVATAR_FILENAME = "avatar.png";
	private static final String DEFAULT_CONFIG_FILENAME = "config";
	private static final String DEFAULT_DATA_FILENAME = "Data.txt";
	private static final boolean OVERWRITE = false;
	private static final boolean APPEND = true;
	private List<Task> taskList;

	private String dataFilePath;
	private String avatarFilePath;

	private static String fileName;

	private static Logger logger = Logger.getLogger("Storage");

	public Storage() {
		taskList = new ArrayList<Task>();
		initializeStorage();
	}

	public void add(Task task) {
		try {
			Gson gson = new Gson();
			FileWriter writer = new FileWriter(dataFilePath, APPEND);
			writer.write(gson.toJson(task));
			writer.write("\r\n");
			writer.close();

			taskList.add(task);

			Collections.sort(taskList);
			rewriteFile();
		} catch (IOException e) {
			e.printStackTrace();
		}
	}

	public void sort() {
		Collections.sort(taskList);
		rewriteFile();
	}

	public void delete(int taskID) {
		for (int i = 0; i < taskList.size(); i++) {
			if (taskID == taskList.get(i).getId()) {
				taskList.remove(i);
			}
		}
		Collections.sort(taskList);
		rewriteFile();
	}

	public void rewriteFile() {
		logger.log(Level.INFO, "going to start processing");
		try {
			Gson gson = new Gson();
			FileWriter writer = new FileWriter(dataFilePath, OVERWRITE);
			for (int i = 0; i < taskList.size(); i++) {
				writer.write(gson.toJson(taskList.get(i)));
				writer.write("\r\n");
			}
			writer.close();

			logger.log(Level.INFO, "rewrite successfully");
		} catch (IOException e) {
			e.printStackTrace();
		}
		logger.log(Level.INFO, "end of processing");
	}

	public List<Task> getAllTasks() {
		return taskList;
	}

	public void clearList() {
		taskList = new ArrayList<Task>();
	}

	public String getAvatarPath() {
		return avatarFilePath;
	}

	public boolean setAvatar(String path) {
		File file = new File(path);
		if (file.exists()) {
			if (isImageFile(path)) {
				avatarFilePath = path;
				writeConfigDetails();
				return true;
			}
		}
		return false;
	}

	// Retrieve the config details
	public void getConfigDetails() {
		File configFile = new File(DEFAULT_CONFIG_FILENAME);

		if (!configFile.exists()) {
			if (createFile(DEFAULT_CONFIG_FILENAME)) {
				this.dataFilePath = DEFAULT_DATA_FILENAME;
				this.avatarFilePath = DEFAULT_AVATAR_FILENAME;
				writeConfigDetails();
			}
		} else {
			try {
				BufferedReader reader = new BufferedReader(new FileReader(
						DEFAULT_CONFIG_FILENAME));

				this.dataFilePath = reader.readLine();
				this.avatarFilePath = reader.readLine();

				reader.close();

			} catch (FileNotFoundException e) {
				e.printStackTrace();
			} catch (IOException e) {
				e.printStackTrace();
			}
		}
	}

	// Write the details to config
	public void writeConfigDetails() {
		try {
			File configFile = new File(DEFAULT_CONFIG_FILENAME);

			FileWriter writer = new FileWriter(configFile, OVERWRITE);
			writer.write(dataFilePath);
			writer.write("\r\n");
			writer.write(avatarFilePath);
			writer.write("\r\n");

			writer.close();
		} catch (IOException e) {
			e.printStackTrace();
		}
	}

	// Set folder location
	public boolean setFileLocation(String filePath) throws Exception {

		if (filePath.startsWith("/") || filePath.startsWith("\\")) {
			filePath = "." + filePath;
		}

		File newFile = new java.io.File(filePath);
		String separator = File.separator;
		String path = null, finalPath = null;

		if (!newFile.exists()) {

			newFile.mkdirs();
			path = newFile.getPath();
			finalPath = path + separator + DEFAULT_DATA_FILENAME;
			File newPath = new File(finalPath);
			try {
				if (createFile(finalPath)) {
					if (newPath.canWrite()) {
						this.dataFilePath = copyAndDelete(dataFilePath,
								finalPath);
						writeConfigDetails();
						return true;
					}
				}
			} catch (SecurityException se) {
				throw new Exception();
			}

		} else {
			if (newFile.isDirectory()) {
				path = newFile.getPath();
				finalPath = path + separator + DEFAULT_DATA_FILENAME;
				try {
					if (newFile.canWrite()) {
						if (createFile(finalPath)) {
							createFile(finalPath);
							this.dataFilePath = copyAndDelete(dataFilePath,
									finalPath);
							writeConfigDetails();
							return true;
						}
					}
				} catch (SecurityException se) {
					throw new Exception();
				}
			} else if (newFile.isFile()) {
				this.dataFilePath = copyAndDelete(dataFilePath, filePath);
				writeConfigDetails();
				return true;
			}
		}
		throw new Exception();
	}

	public void initializeStorage() {

		getConfigDetails();

		Gson gson = new Gson();
		Task task = new Task();
		assert (!dataFilePath.equals(""));
		if (createFile(dataFilePath)) {
			try {
				BufferedReader reader = new BufferedReader(new FileReader(
						dataFilePath));
				String currentLine = reader.readLine();
				while (currentLine != null) {
					task = gson.fromJson(currentLine, Task.class);
					if (task.getTaskType().equals(
							ParsedCommand.TaskType.DEADLINE_TASK)) {
						task = (Task) gson.fromJson(currentLine,
								DeadlineTask.class);
					} else if (task.getTaskType().equals(
							ParsedCommand.TaskType.EVENT)) {
						task = (Task) gson.fromJson(currentLine, Event.class);
					}
					taskList.add(task);
					currentLine = reader.readLine();
				}
				reader.close();

			} catch (FileNotFoundException e) {
				e.printStackTrace();
			} catch (IOException e) {
				e.printStackTrace();
			}
		}

	}

	// Copy and delete text file
	private static String copyAndDelete(String oldPath, String newFilePath) {
		InputStream inStream = null;
		OutputStream outStream = null;

		try {
			File afile = new File(oldPath); // original path
			File bfile = new File(newFilePath); // new path
			File temp = File.createTempFile("temp", ".tmp"); // temp file

			inStream = new FileInputStream(afile);
			outStream = new FileOutputStream(temp);

			byte[] buffer = new byte[65536];

			int length;
			// copy the file content in bytes
			while ((length = inStream.read(buffer)) > 0) {
				outStream.write(buffer, 0, length);
			}

			inStream.close();
			outStream.close();

			// delete the original file
			if (!afile.getCanonicalFile().equals(bfile.getCanonicalFile())) {
				afile.delete();

				// delete folder is up to one level only
				try {
					// delete folder
					String absolutePath = afile.getAbsolutePath();
					String filePath = absolutePath.substring(0,
							absolutePath.lastIndexOf(File.separator));
					Path paths = Paths.get(filePath);
					Files.delete(paths);
				} catch (FileSystemException e) {
				}

			}

			buffer = new byte[65536];
			length = 0;
			inStream = new FileInputStream(temp);
			outStream = new FileOutputStream(bfile);

			buffer = new byte[65536];
			// copy the file content in bytes
			while ((length = inStream.read(buffer)) > 0) {
				outStream.write(buffer, 0, length);
			}

			inStream.close();
			outStream.close();

			temp.delete();
			fileName = bfile.getCanonicalFile().toString();

		} catch (IOException e) {
			e.printStackTrace();
		}

		return fileName;
	}

	private boolean createFile(String fileName) {
		File file = new File(fileName);
		if (!file.exists()) {
			try {
				file.createNewFile();
			} catch (IOException e) {
				e.printStackTrace();
				return false;
			}
		}
		return true;
	}

	private boolean isImageFile(String fileName) {
		File f = new File(fileName);
		FileNameMap fileNameMap = URLConnection.getFileNameMap();
		try {
			String mimetype = fileNameMap.getContentTypeFor(fileName);
			String type = mimetype.split("/")[0];
			if (type.equals("image")) {
				return true;
			} else {
				return false;
			}
		} catch (NullPointerException e) {
			return false;
		}
	}
}
```
###### test\IntegrationTest.java
``` java

package test;

import static org.junit.Assert.assertEquals;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;

import logic.Logic;
import logic.Logic.UnrecognisedCommandException;

import org.junit.AfterClass;
import org.junit.BeforeClass;
import org.junit.FixMethodOrder;
import org.junit.Test;
import org.junit.runners.MethodSorters;

import parser.MyParser;
import storage.Storage;

// CAUTION : Data.txt & config will be overwritten
// Data.txt must be empty or deleted

@FixMethodOrder(MethodSorters.NAME_ASCENDING)
public class IntegrationTest {

	private String dataFilePath = "";
	private static String dataFilePathTemp;

	static InputStream inStream = null;
	static OutputStream outStream = null;

	static File dataTemp;
	static File configTemp;

	private static final String CONFIG_FILENAME = "config";
	String output = "", expected = "";

	static Logic logic = new Logic();
	static Storage storage = new Storage();
	static logic.Model model;

	@BeforeClass
	public static void init() throws UnrecognisedCommandException {
		setUp();
		model = logic.executeCommand(null);
		storage.clearList();
		model.getTodayList().clear();
		model.getMainList().clear();
		model.getAllTasks().clear();
		model.getSearchList().clear();
	}

	// GUI
	@Test
	public void testA() {
		output = String.valueOf(model.getAllTasks().size());
		expected = "0";
		assertEquals(expected, output);

		clear();
	}

	// Add
	@Test
	public void testB() throws UnrecognisedCommandException, IOException {

		getConfigDetails();

		// Add Floating task
		logic.executeCommand(MyParser
				.parseCommand("add do homework #mustTodo #veryHard"));
		output = model.getConsoleMessage();
		expected = "do homework added";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected = "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		output = String.valueOf(model.getFloatingList().size());
		expected = "1";
		assertEquals(expected, output);

		clear();

		// Add Deadline task - without time
		logic.executeCommand(MyParser
				.parseCommand("add do housekeeping on 12/12"));
		output = model.getConsoleMessage();
		expected = "do housekeeping added";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected = "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Add Deadline task - with date and time
		logic.executeCommand(MyParser
				.parseCommand("add homework by 10pm 10/12"));
		output = model.getConsoleMessage();
		expected = "homework added";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected = "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":3,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Add Deadline task - using NATTY DATE
		logic.executeCommand(MyParser
				.parseCommand("add assignment by next friday 10pm"));
		output = model.getConsoleMessage();
		expected = "assignment added";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected = "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":3,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Add Event task
		logic.executeCommand(MyParser
				.parseCommand("add project on 12/12 10am to 13/12 1pm"));
		output = model.getConsoleMessage();
		expected = "project added";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":3,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		assertEquals(expected, output);

		clear();

		// Add Event without "to"
		logic.executeCommand(MyParser
				.parseCommand("add camp 12/10 10am 13/10 6pm"));
		output = model.getConsoleMessage();
		expected = "camp added";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":3,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		assertEquals(expected, output);

		clear();

		// Add Event by using "-"
		logic.executeCommand(MyParser
				.parseCommand("add meeting john 10/12 10pm - 12/10 12pm"));
		output = model.getConsoleMessage();
		expected = "meeting john added";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":3,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		assertEquals(expected, output);

		clear();

		// Add Event by using backslash as escape key
		String keyword = "add do project " + "\\"
				+ "on software engineering principles";
		logic.executeCommand(MyParser.parseCommand(keyword));
		output = model.getConsoleMessage();
		expected = "do project on software engineering principles added";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":3,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"do project on software engineering principles\",\"details\":\"\",\"id\":8,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Add Event without title
		logic.executeCommand(MyParser.parseCommand("add \"at Orchard\""));
		output = model.getConsoleMessage();
		expected = "Error: Missing task title";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":3,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"do project on software engineering principles\",\"details\":\"\",\"id\":8,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Add Event with invalid date
		logic.executeCommand(MyParser
				.parseCommand("add meeting kevin by 10/13"));
		output = model.getConsoleMessage();
		expected = "Error: Invalid date(s) input";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":3,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"do project on software engineering principles\",\"details\":\"\",\"id\":8,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Add Event with invalid date
		logic.executeCommand(MyParser
				.parseCommand("add project proposal 23/12 10am 27/12 12pm \"Task management software\" #imprt"));
		output = model.getConsoleMessage();
		expected = "project proposal added";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":3,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"do project on software engineering principles\",\"details\":\"\",\"id\":8,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		assertEquals(expected, output);

		clear();

		// Add Event with shortcut key, "+"
		logic.executeCommand(MyParser.parseCommand("+ dinner with parents"));
		output = model.getConsoleMessage();
		expected = "dinner with parents added";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":3,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"do project on software engineering principles\",\"details\":\"\",\"id\":8,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

	}

	// Delete
	@Test
	public void testC() throws UnrecognisedCommandException {

		getConfigDetails();

		// Delete a Task
		logic.executeCommand(MyParser.parseCommand("delete 3"));
		output = model.getConsoleMessage();
		expected = "Task 3 deleted";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"do project on software engineering principles\",\"details\":\"\",\"id\":8,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Delete a Task with invalid TaskID
		logic.executeCommand(MyParser.parseCommand("delete 23"));
		output = model.getConsoleMessage();
		expected = "Error: Invalid ID";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"do project on software engineering principles\",\"details\":\"\",\"id\":8,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Delete a Task by using shortcut key - "X"
		logic.executeCommand(MyParser.parseCommand("X 8"));
		output = model.getConsoleMessage();
		expected = "Task 8 deleted";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"do homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

	}

	// Update
	@Test
	public void testD() throws UnrecognisedCommandException {
		getConfigDetails();

		// Edit a Task
		logic.executeCommand(MyParser.parseCommand("edit 1 homework"));
		output = model.getConsoleMessage();
		expected = "do homework updated";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Edit a task without fields
		logic.executeCommand(MyParser.parseCommand("edit 2"));
		output = model.getConsoleMessage();
		expected = "Error: No fields were entered for editing";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Edit a invalid ID Task
		logic.executeCommand(MyParser.parseCommand("edit 53 homework"));
		output = model.getConsoleMessage();
		expected = "Error: Invalid ID";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Edit a DEADLINE
		logic.executeCommand(MyParser.parseCommand("edit 2 23/12 4pm"));
		output = model.getConsoleMessage();
		expected = "do housekeeping updated";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":10,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Edit Event (both start and end date, time)
		logic.executeCommand(MyParser
				.parseCommand("edit 7 18/12 2pm 20/12 12am"));
		output = model.getConsoleMessage();
		expected = "meeting john updated";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":18,\"hourOfDay\":14,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":20,\"hourOfDay\":0,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Edit Event with 1 date, time -> change to Deadline
		logic.executeCommand(MyParser.parseCommand("edit 7 16/12/15 8pm"));
		output = model.getConsoleMessage();
		expected = "meeting john updated";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":16,\"hourOfDay\":20,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Update Floating to Deadline
		logic.executeCommand(MyParser.parseCommand("e; 1 by 18/12 11:59pm"));
		output = model.getConsoleMessage();
		expected = "homework updated";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":18,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":16,\"hourOfDay\":20,\"minute\":0,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Update Deadline to Event
		logic.executeCommand(MyParser.parseCommand("edit 7 1/1 3/1"));
		output = model.getConsoleMessage();
		expected = "meeting john updated";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":18,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":0,\"dayOfMonth\":1,\"hourOfDay\":0,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":0,\"dayOfMonth\":3,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();
	}

	// Mark
	@Test
	public void testE() throws UnrecognisedCommandException {

		getConfigDetails();

		// Mark task as completed
		logic.executeCommand(MyParser.parseCommand("mark done 1"));
		output = model.getConsoleMessage();
		expected = "homework updated";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":18,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":true,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":0,\"dayOfMonth\":1,\"hourOfDay\":0,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":0,\"dayOfMonth\":3,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Mark task as completed by using invalid taskID

		logic.executeCommand(MyParser.parseCommand("mark done 23"));
		output = model.getConsoleMessage();
		expected = "Error: Invalid ID";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":18,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":true,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":0,\"dayOfMonth\":1,\"hourOfDay\":0,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":0,\"dayOfMonth\":3,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Mark task as todo by using valid taskID
		logic.executeCommand(MyParser.parseCommand("mark todo 1"));
		output = model.getConsoleMessage();
		expected = "homework updated";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":18,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":0,\"dayOfMonth\":1,\"hourOfDay\":0,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":0,\"dayOfMonth\":3,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Mark task as t6odo by using invalid taskID
		logic.executeCommand(MyParser.parseCommand("mark todo 23"));
		output = model.getConsoleMessage();
		expected = "Error: Invalid ID";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":18,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":0,\"dayOfMonth\":1,\"hourOfDay\":0,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":0,\"dayOfMonth\":3,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";

		clear();

		// Mark task as todo by using shortcut command
		logic.executeCommand(MyParser.parseCommand("v 2"));
		output = model.getConsoleMessage();
		expected = "do housekeeping updated";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":18,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":true,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":0,\"dayOfMonth\":1,\"hourOfDay\":0,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":0,\"dayOfMonth\":3,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

	}

	// Undo
	@Test
	public void testF() throws UnrecognisedCommandException {

		getConfigDetails();

		// Undo done to todo
		logic.executeCommand(MyParser.parseCommand("undo"));
		output = model.getConsoleMessage();
		expected = "Undo Successful";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":18,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":0,\"dayOfMonth\":1,\"hourOfDay\":0,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":0,\"dayOfMonth\":3,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Undo add
		logic.executeCommand(MyParser.parseCommand("add testing"));
		output = model.getConsoleMessage();
		expected = "testing added";
		assertEquals(expected, output);

		clear();

		logic.executeCommand(MyParser.parseCommand("undo"));
		output = model.getConsoleMessage();
		expected = "Undo Successful";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":18,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":0,\"dayOfMonth\":1,\"hourOfDay\":0,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":0,\"dayOfMonth\":3,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();
	}

	// Redo
	@Test
	public void testG() throws UnrecognisedCommandException {

		getConfigDetails();

		// Redo add
		logic.executeCommand(MyParser.parseCommand("redo"));
		output = model.getConsoleMessage();
		expected = "Redo successful";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":18,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":0,\"dayOfMonth\":1,\"hourOfDay\":0,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":0,\"dayOfMonth\":3,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"name\":\"testing\",\"details\":\"\",\"id\":11,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

	}

	// Search or Show
	@Test
	public void testH() throws UnrecognisedCommandException {

		// Search with valid keyword
		logic.executeCommand(MyParser.parseCommand("search homework"));
		output = model.getConsoleMessage();
		expected = "1 result found";
		assertEquals(expected, output);

		clear();

		output = String.valueOf(model.getSearchList().size());
		expected = "1";
		assertEquals(expected, output);

		clear();

		// Search with valid keyword with UPPERCASE
		logic.executeCommand(MyParser.parseCommand("search HOMEWORK"));
		output = model.getConsoleMessage();
		expected = "1 result found";
		assertEquals(expected, output);

		clear();

		// Search with special character
		logic.executeCommand(MyParser.parseCommand("search ;"));
		output = model.getConsoleMessage();
		expected = "No results found";
		assertEquals(expected, output);

		clear();

		logic.executeCommand(MyParser.parseCommand("search Lucy"));
		output = model.getConsoleMessage();
		expected = "No results found";
		assertEquals(expected, output);

		clear();

		// search date
		logic.executeCommand(MyParser.parseCommand("search 23/12"));
		output = model.getConsoleMessage();
		expected = "2 results found";
		assertEquals(expected, output);

		clear();

		// search 2 dates
		logic.executeCommand(MyParser.parseCommand("search 1/1 3/1"));
		output = model.getConsoleMessage();
		expected = "No results found";
		assertEquals(expected, output);

		clear();

		// search taskID
		logic.executeCommand(MyParser.parseCommand("search 1"));
		output = model.getConsoleMessage();
		expected = "1 result found";
		assertEquals(expected, output);
		clear();

		// search 2 or more than 2 keywords
		logic.executeCommand(MyParser
				.parseCommand("search housekeeping homework camp"));
		output = model.getConsoleMessage();
		expected = "3 results found";
		assertEquals(expected, output);

		clear();

		logic.executeCommand(MyParser.parseCommand("search isCompleted:false"));
		output = model.getConsoleMessage();
		expected = "9 results found";
		assertEquals(expected, output);

		clear();

		logic.executeCommand(MyParser.parseCommand("search isCompleted:23:59"));
		output = model.getConsoleMessage();
		expected = "Error: Search Failed";
		assertEquals(expected, output);

		clear();

		logic.executeCommand(MyParser.parseCommand("s; #veryHard"));
		output = model.getConsoleMessage();
		expected = "1 result found";
		assertEquals(expected, output);

		clear();

	}

	// Set file location
	@Test
	public void testI() throws UnrecognisedCommandException {

		getConfigDetails();

		// Set file location
		logic.executeCommand(MyParser.parseCommand("set folder /temp"));
		output = model.getConsoleMessage();
		expected = "data file set to /temp";
		assertEquals(expected, output);

		clear();

		getConfigDetails();

		output = readFile(CONFIG_FILENAME);
		expected += dataFilePath;
		expected += "\n";
		expected += "avatar.jpg";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":18,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":0,\"dayOfMonth\":1,\"hourOfDay\":0,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":0,\"dayOfMonth\":3,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"name\":\"testing\",\"details\":\"\",\"id\":11,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();

		// Set invalid file location
		logic.executeCommand(MyParser.parseCommand("set folder c:\\"));
		output = model.getConsoleMessage();
		expected = "Failed to Set new Path";
		assertEquals(expected, output);

		clear();

		getConfigDetails();

		output = readFile(CONFIG_FILENAME);
		expected += dataFilePath;
		expected += "\n";
		expected += "avatar.jpg";
		assertEquals(expected, output);

		clear();

		output = readFile(dataFilePath);
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":18,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"homework\",\"details\":\"\",\"id\":1,\"isCompleted\":false,\"tags\":[\"mustTodo\",\"veryHard\"],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":16,\"minute\":0,\"second\":0},\"name\":\"do housekeeping\",\"details\":\"\",\"id\":2,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":10,\"dayOfMonth\":20,\"hourOfDay\":22,\"minute\":0,\"second\":0},\"name\":\"assignment\",\"details\":\"\",\"id\":4,\"isCompleted\":false,\"tags\":[],\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":13,\"hourOfDay\":13,\"minute\":0,\"second\":0},\"name\":\"project\",\"details\":\"\",\"id\":5,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":9,\"dayOfMonth\":12,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":9,\"dayOfMonth\":13,\"hourOfDay\":18,\"minute\":0,\"second\":0},\"name\":\"camp\",\"details\":\"\",\"id\":6,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2016,\"month\":0,\"dayOfMonth\":1,\"hourOfDay\":0,\"minute\":0,\"second\":0},\"end\":{\"year\":2016,\"month\":0,\"dayOfMonth\":3,\"hourOfDay\":23,\"minute\":59,\"second\":0},\"name\":\"meeting john\",\"details\":\"\",\"id\":7,\"isCompleted\":false,\"tags\":[],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":11,\"dayOfMonth\":23,\"hourOfDay\":10,\"minute\":0,\"second\":0},\"end\":{\"year\":2015,\"month\":11,\"dayOfMonth\":27,\"hourOfDay\":12,\"minute\":0,\"second\":0},\"name\":\"project proposal\",\"details\":\"Task management software\",\"id\":9,\"isCompleted\":false,\"tags\":[\"imprt\"],\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"name\":\"dinner with parents\",\"details\":\"\",\"id\":10,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"name\":\"testing\",\"details\":\"\",\"id\":11,\"isCompleted\":false,\"tags\":[],\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		clear();
	}

	// Invalid command
	@Test
	public void testJ() throws UnrecognisedCommandException {
		logic.executeCommand(MyParser.parseCommand("serach housekeeping"));
		output = model.getConsoleMessage();
		expected = "Error: Invalid command";
		assertEquals(expected, output);

		clear();
	}

	@AfterClass
	public static void end() throws IOException {
		reset();
	}

	public static void setUp() {
		File dataFile = new File("Data.txt");
		dataFile.renameTo(new File("temp.txt"));
		File testFile = new File("Test_Data2.txt");
		testFile.renameTo(new File("Data.txt"));
		File configFile = new File("config");
		configFile.renameTo(new File(("configTemp")));

	}

	public static void reset() throws IOException {
		File temp = new File(".\\temp\\Data.txt");
		temp.delete();
		String absolutePath = temp.getAbsolutePath();
		String filePath = absolutePath.substring(0,
				absolutePath.lastIndexOf(File.separator));
		Path paths = Paths.get(filePath);
		Files.delete(paths);

		File dataFile = new File("Data.txt");
		dataFile.renameTo(new File("Test_Data2.txt"));
		File testFile = new File("temp.txt");
		testFile.renameTo(new File("Data.txt"));

		File configCopy = new File("config");
		configCopy.delete();
		File configFile = new File("configTemp");
		configFile.renameTo(new File(("config")));
	}

	private String readFile(String fileInput) {
		String sCurrentLine = "";
		StringBuilder result = new StringBuilder();
		File file = new File(fileInput);
		try {
			FileReader fr = new FileReader(file);
			BufferedReader br = new BufferedReader(fr);
			while ((sCurrentLine = br.readLine()) != null) {
				result.append(sCurrentLine + "\n");
			}
			fr.close();
			br.close();

			result.setLength(result.length() - 1);

		} catch (IOException e) {
			e.printStackTrace();
		}
		return result.toString();
	}

	public void getConfigDetails() {
		try {
			BufferedReader reader = new BufferedReader(new FileReader(
					CONFIG_FILENAME));

			this.dataFilePath = reader.readLine();

			reader.close();

		} catch (FileNotFoundException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		}
	}

	private void clear() {
		output = "";
		expected = "";
	}
}
```
###### test\StorageTest.java
``` java

package test;

import static org.junit.Assert.assertEquals;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.nio.file.Files;
import java.nio.file.Path;
import java.nio.file.Paths;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Locale;

import logic.DeadlineTask;
import logic.Event;
import logic.Task;

import org.junit.AfterClass;
import org.junit.BeforeClass;
import org.junit.FixMethodOrder;
import org.junit.Test;
import org.junit.runners.MethodSorters;

import parser.ParsedCommand;
import parser.ParsedCommand.TaskType;
import storage.Storage;

@FixMethodOrder(MethodSorters.NAME_ASCENDING)
public class StorageTest {
	private static final TaskType TASK = TaskType.FLOATING_TASK;
	private static final TaskType DEADLINETASK = TaskType.DEADLINE_TASK;
	private static final TaskType EVENT = TaskType.EVENT;

	private static final String CONFIG_FILENAME = "config";

	private String dataFilePath;
	private static String dataFilePathTemp;
	private String avatarFilePath;
	private static boolean hasConfigFile = false;
	private static boolean hasDataFile = false;

	static InputStream inStream = null;
	static OutputStream outStream = null;

	static File dataTemp;
	static File configTemp;

	static Storage storage;
	ParsedCommand parser;

	String output = null;

	@BeforeClass
	public static void init() {
		setUp();
		storage = new Storage();
		storage.clearList();
	}

	// Add
	@Test
	public void testA() throws Exception {

		getConfigDetails();

		Task task = new Task("dinner with friends", "at centrepoint", 1, false,
				null, TASK);
		storage.add(task);

		String output = readFile(dataFilePath);
		String expected = "{\"name\":\"dinner with friends\",\"details\":\"at centrepoint\",\"id\":1,\"isCompleted\":false,\"taskType\":\"FLOATING_TASK\"}";
		assertEquals(expected, output);

		Calendar calEnd = Calendar.getInstance();
		SimpleDateFormat sdf = new SimpleDateFormat(
				"EEE MMM dd HH:mm:ss z yyyy", Locale.US);
		calEnd.setTime(sdf.parse("Mon Mar 14 16:02:37 GMT 2015"));// all done

		Event event = new Event("dinner with friends", "at centrepoint", 2,
				false, null, EVENT, calEnd, calEnd);
		storage.add(event);
		output = "";
		expected = "";
		output = readFile(dataFilePath);
		expected += "{\"name\":\"dinner with friends\",\"details\":\"at centrepoint\",\"id\":1,\"isCompleted\":false,\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"end\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"name\":\"dinner with friends\",\"details\":\"at centrepoint\",\"id\":2,\"isCompleted\":false,\"taskType\":\"EVENT\"}";
		assertEquals(expected, output);

		DeadlineTask deadLine = new DeadlineTask("meeting Luxola",
				"at centrepoint", 3, false, null, DEADLINETASK, calEnd);
		storage.add(deadLine);
		output = "";
		expected = "";
		output = readFile(dataFilePath);
		expected += "{\"name\":\"dinner with friends\",\"details\":\"at centrepoint\",\"id\":1,\"isCompleted\":false,\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"end\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"name\":\"dinner with friends\",\"details\":\"at centrepoint\",\"id\":2,\"isCompleted\":false,\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"name\":\"meeting Luxola\",\"details\":\"at centrepoint\",\"id\":3,\"isCompleted\":false,\"taskType\":\"DEADLINE_TASK\"}";
		assertEquals(expected, output);

		deadLine = new DeadlineTask("meeting Luxola", "at centrepoint", 4,
				false, null, DEADLINETASK, calEnd);
		Event event2 = new Event(deadLine, calEnd);
		storage.add(event2);
		output = "";
		expected = "";
		output = readFile(dataFilePath);
		expected += "{\"name\":\"dinner with friends\",\"details\":\"at centrepoint\",\"id\":1,\"isCompleted\":false,\"taskType\":\"FLOATING_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"end\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"name\":\"dinner with friends\",\"details\":\"at centrepoint\",\"id\":2,\"isCompleted\":false,\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"name\":\"meeting Luxola\",\"details\":\"at centrepoint\",\"id\":3,\"isCompleted\":false,\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"end\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"name\":\"meeting Luxola\",\"details\":\"at centrepoint\",\"id\":4,\"isCompleted\":false,\"taskType\":\"EVENT\"}";
		assertEquals(expected, output);

	}

	// Delete
	@Test
	public void testB() throws Exception {
		storage.delete(1);

		getConfigDetails();
		String output = readFile(dataFilePath);

		String expected = "{\"start\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"end\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"name\":\"dinner with friends\",\"details\":\"at centrepoint\",\"id\":2,\"isCompleted\":false,\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"name\":\"meeting Luxola\",\"details\":\"at centrepoint\",\"id\":3,\"isCompleted\":false,\"taskType\":\"DEADLINE_TASK\"}";
		expected += "\n";
		expected += "{\"start\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"end\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"name\":\"meeting Luxola\",\"details\":\"at centrepoint\",\"id\":4,\"isCompleted\":false,\"taskType\":\"EVENT\"}";
		assertEquals(expected, output);

		output = "";
		expected = "";
		storage.delete(4);
		output = readFile(dataFilePath);
		expected += "{\"start\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"end\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"name\":\"dinner with friends\",\"details\":\"at centrepoint\",\"id\":2,\"isCompleted\":false,\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"name\":\"meeting Luxola\",\"details\":\"at centrepoint\",\"id\":3,\"isCompleted\":false,\"taskType\":\"DEADLINE_TASK\"}";
		assertEquals(expected, output);

	}

	// Set folder
	@Test
	public void testC() throws Exception {

		boolean output = storage.setFileLocation(".\\");
		assertEquals(true, output);

		output = storage.setFileLocation(".//");
		assertEquals(true, output);

		output = storage.setFileLocation("//");
		assertEquals(true, output);

		output = storage.setFileLocation("./new");
		assertEquals(true, output);

		output = storage.setFileLocation("//new");
		assertEquals(true, output);

		output = storage.setFileLocation("\\new");
		assertEquals(true, output);

		// folder is not exist
		output = storage.setFileLocation(".\\temp");
		assertEquals(true, output);

		getConfigDetails();
		String path = readFile(dataFilePath);
		String expected = "{\"start\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"end\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"name\":\"dinner with friends\",\"details\":\"at centrepoint\",\"id\":2,\"isCompleted\":false,\"taskType\":\"EVENT\"}";
		expected += "\n";
		expected += "{\"end\":{\"year\":2015,\"month\":2,\"dayOfMonth\":15,\"hourOfDay\":0,\"minute\":2,\"second\":37},\"name\":\"meeting Luxola\",\"details\":\"at centrepoint\",\"id\":3,\"isCompleted\":false,\"taskType\":\"DEADLINE_TASK\"}";
		assertEquals(expected, path);

	}

	// Set Avatar
	@Test
	public void testD() throws Exception {

		boolean output = storage.setAvatar("c:\\");
		assertEquals(false, output);

		output = storage.setAvatar(".\\gui\\Log.java");
		assertEquals(false, output);

		output = storage.setAvatar(".\\gui\\testing.jpg");
		assertEquals(false, output);

		output = storage.setAvatar(".\\gui\\avatar2.png");
		assertEquals(true, output);

		output = storage.setAvatar(".\\gui\\avatar.jpg");
		assertEquals(true, output);

	}

	@AfterClass
	public static void end() throws IOException {
		reset();
	}

	public static void setUp() {
		File dataFile = new File("Data.txt");
		dataFile.renameTo(new File("temp.txt"));
		File testFile = new File("Test_Data2.txt");
		testFile.renameTo(new File("Data.txt"));
		File configFile = new File("config");
		configFile.renameTo(new File(("configTemp")));
	}

	public static void reset() throws IOException {
		File temp = new File(".\\temp\\Data.txt");
		temp.delete();
		String absolutePath = temp.getAbsolutePath();
		String filePath = absolutePath.substring(0,
				absolutePath.lastIndexOf(File.separator));
		Path paths = Paths.get(filePath);
		Files.delete(paths);

		File dataFile = new File("Data.txt");
		dataFile.renameTo(new File("Test_Data2.txt"));
		File testFile = new File("temp.txt");
		testFile.renameTo(new File("Data.txt"));
		File configCopy = new File("config");
		configCopy.delete();
		File configFile = new File("configTemp");
		configFile.renameTo(new File(("config")));
	}

	public void getConfigDetails() {
		try {
			BufferedReader reader = new BufferedReader(new FileReader(
					CONFIG_FILENAME));

			this.dataFilePath = reader.readLine();
			this.avatarFilePath = reader.readLine();

			reader.close();

		} catch (FileNotFoundException e) {
			e.printStackTrace();
		} catch (IOException e) {
			e.printStackTrace();
		}
	}

	private String readFile(String fileInput) {
		String sCurrentLine = "";
		StringBuilder result = new StringBuilder();
		File file = new File(fileInput);
		try {
			FileReader fr = new FileReader(file);
			BufferedReader br = new BufferedReader(fr);
			while ((sCurrentLine = br.readLine()) != null) {
				result.append(sCurrentLine + "\n");
			}
			fr.close();
			br.close();

			result.setLength(result.length() - 1);

		} catch (IOException e) {
			e.printStackTrace();
		}
		return result.toString();
	}

}
```
